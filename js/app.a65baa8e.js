(function(){"use strict";var e={1139:function(e,t,o){var n=o(5130),s=o(6768),i=o(4232);const a={class:"site-container"},r={class:"site-header-desktop"},l={class:"site-header-mobile"},c={class:"site-content"};function u(e,t,o,n,u,d){const v=(0,s.g2)("HeaderContent"),p=(0,s.g2)("router-view"),h=(0,s.g2)("MobilePlayer"),g=(0,s.g2)("DesktopPlayer"),m=(0,s.g2)("DesktopDetail");return(0,s.uX)(),(0,s.CE)("div",a,[t[3]||(t[3]=(0,s.Lk)("div",{class:"overlay"},null,-1)),(0,s.Lk)("header",r,[(0,s.bF)(v,{ref:"header-content-desktop",showTitle:!0,onRouteClicked:d.handleRouteClicked},null,8,["onRouteClicked"])]),(0,s.Lk)("header",l,[t[2]||(t[2]=(0,s.Lk)("h1",{class:"mobile-header-title"},"Podcasts",-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>d.toggleMobileMenu&&d.toggleMobileMenu(...e)),style:{background:"none",border:"none",padding:"0",cursor:"pointer"}},t[1]||(t[1]=[(0,s.Lk)("svg",{class:"mobile-header-menu-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[(0,s.Lk)("path",{fill:"currentColor",d:"M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"})],-1)]))]),(0,s.Lk)("div",{class:(0,i.C4)(["header-content-mobile",{"menu-visible":u.isMobileMenuOpen}])},[(0,s.bF)(v,{ref:"header-content-mobile",showTitle:!1,onRouteClicked:d.handleRouteClicked},null,8,["onRouteClicked"])],2),(0,s.Lk)("div",c,[(0,s.bF)(p,{onPlayRequest:d.playPodcast},null,8,["onPlayRequest"])]),u.isMobile?((0,s.uX)(),(0,s.Wv)(h,{key:0})):((0,s.uX)(),(0,s.Wv)(g,{key:1,onCoverClicked:d.onCoverClick},null,8,["onCoverClicked"])),!u.isMobile&&u.showDesktopDetail?((0,s.uX)(),(0,s.Wv)(m,{key:2,podcast:u.currentPodcast},null,8,["podcast"])):(0,s.Q3)("",!0)])}const d={class:"header-content"},v={key:0,class:"header-title-container"},p={class:"header-text header-route"};function h(e,t,o,n,a,r){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",d,[o.showTitle?((0,s.uX)(),(0,s.CE)("div",v,[(0,s.Lk)("h1",{class:"header-text header-title",onClick:t[0]||(t[0]=(...e)=>r.navigateToHome&&r.navigateToHome(...e))},"Podcasts"),t[1]||(t[1]=(0,s.Lk)("h3",{class:"header-description"},"This website content is all generated by AI. Hope you enjoy it.",-1))])):(0,s.Q3)("",!0),(0,s.Lk)("div",p,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.routes,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.name,class:"header-route-item"},[(0,s.bF)(l,{to:e.path,onClick:t=>r.handleRouteClick(e.name)},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(e.name),1)])),_:2},1032,["to","onClick"])])))),128))])])}o(4114);var g={props:{routes:{type:Array,default:()=>[{name:"首页",path:"/"},{name:"创建播客",path:"/create-podcast"}]},showTitle:{type:Boolean,default:!0}},methods:{handleRouteClick(e){this.$emit("route-clicked",e)},navigateToHome(){this.$router.push("/")}}},m=o(1241);const k=(0,m.A)(g,[["render",h],["__scopeId","data-v-14bea801"]]);var f=k;const w={class:"bottom-audio-container"},y={class:"bottom-audio-left-container"},b=["src"],C={class:"mobile-player-title-container"},L={class:"mobile-player-right-container"},P={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"icon play-icon"},E={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"icon pause-icon"};function M(e,t,o,n,a,r){return(0,s.uX)(),(0,s.CE)("div",w,[t[3]||(t[3]=(0,s.Lk)("div",{class:"bottom-audio-color-container"},null,-1)),(0,s.Lk)("div",{class:"bottom-audio-progress-bar",style:(0,i.Tr)({width:n.progressBarWidth})},null,4),(0,s.Lk)("div",y,[(0,s.Lk)("div",{class:(0,i.C4)(["mobile-player-poster-container",n.rotatingPosterClass])},[(0,s.Lk)("img",{src:n.coverSrc,alt:"Podcast Poster"},null,8,b)],2),(0,s.Lk)("div",C,[(0,s.Lk)("div",{class:(0,i.C4)(["mobile-player-title",{marquee:n.isTitleOverflow}]),ref:"titleRef"},(0,i.v_)(n.podcastTitle),3),(0,s.Lk)("div",{class:(0,i.C4)(["mobile-player-subtitle",{marquee:n.isSubtitleOverflow}]),ref:"subtitleRef"},(0,i.v_)(n.podcastSubtitle),3)])]),(0,s.Lk)("div",L,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.togglePlayPause&&n.togglePlayPause(...e)),class:"play-pause-button"},[n.isPlaying?((0,s.uX)(),(0,s.CE)("svg",E,t[2]||(t[2]=[(0,s.Lk)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},null,-1)]))):((0,s.uX)(),(0,s.CE)("svg",P,t[1]||(t[1]=[(0,s.Lk)("path",{d:"M8 5v14l11-7z"},null,-1)])))])])])}var T=o(144);let S=null;const _=(0,T.Kh)({currentAudioSrc:"",currentPodcastCover:"",currentPodcastTitle:"-",currentPodcastSubtitle:"-",isPlaying:!1,currentTime:0,duration:0});function x(e){D(),e&&(S=new Audio(e),S.addEventListener("timeupdate",B),S.addEventListener("ended",W),S.addEventListener("canplay",A))}function D(){S&&(S.removeEventListener("timeupdate",B),S.removeEventListener("ended",W),S.removeEventListener("canplay",A),S.pause(),S=null)}function B(){_.currentTime=S.currentTime}function W(){_.isPlaying=!1}function A(){_.duration=S.duration}var z={state:_,initAudio:x,cleanupAudio:D,getAudio(){return S},setAudioSrc(e){_.currentAudioSrc=e},setPodcastCover(e){_.currentPodcastCover=e},setPodcastTitle(e){_.currentPodcastTitle=e},setPodcastSubtitle(e){_.currentPodcastSubtitle=e},setIsPlaying(e){_.isPlaying=e},setCurrentTime(e){S&&(S.currentTime=e),_.currentTime=e},setDuration(e){_.duration=e}},R={name:"MobilePlayer",setup(){const e=z.state,t=(0,s.EW)((()=>e.isPlaying)),o=(0,s.EW)((()=>e.currentPodcastTitle)),n=(0,s.EW)((()=>e.currentPodcastSubtitle)),i=(0,s.EW)((()=>e.currentPodcastCover));(0,s.wB)((()=>e.currentAudioSrc),(e=>{if(z.initAudio(e),e){const e=z.getAudio();e&&(e.play(),z.setIsPlaying(!0))}})),(0,s.wB)(t,(e=>{const t=z.getAudio();t&&(e?t.play():t.pause())}));const a=(0,T.KR)(null),r=(0,T.KR)(null),l=(0,T.KR)(!1),c=(0,T.KR)(!1);function u(){if(!a.value)return;const e=a.value.parentElement;e&&(l.value=a.value.scrollWidth>e.clientWidth)}function d(){if(!r.value)return;const e=r.value.parentElement;e&&(c.value=r.value.scrollWidth>e.clientWidth)}function v(){e.isPlaying?z.setIsPlaying(!1):z.setIsPlaying(!0)}(0,s.sV)((async()=>{if(e.currentAudioSrc){z.initAudio(e.currentAudioSrc);const t=z.getAudio();t&&t.play()}await(0,s.dY)(),u(),d()}));const p=(0,s.EW)((()=>e.duration?e.currentTime/e.duration*100+"%":"0%")),h=(0,s.EW)((()=>t.value?"poster-rotating":""));return{state:e,isPlaying:t,podcastTitle:o,podcastSubtitle:n,coverSrc:i,progressBarWidth:p,rotatingPosterClass:h,togglePlayPause:v,titleRef:a,subtitleRef:r,isTitleOverflow:l,isSubtitleOverflow:c,checkTitleOverflow:u,checkSubtitleOverflow:d}}};const X=(0,m.A)(R,[["render",M],["__scopeId","data-v-d00279fe"]]);var O=X;const I={class:"desktop-player"},F={class:"desktop-poaster-and-title"},H={class:"desktop-poaster-container"},K={class:"poster-wrapper"},V=["src"],j={class:"desktop-title-container"},N={class:"desktop-player-controls"},$={class:"desktop-player-controls-top"},q={key:0,class:"icon play-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Q={key:1,class:"icon pause-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Y={class:"desktop-player-controls-bottom"},U={class:"time-display"},G={class:"time-display"};function Z(e,t,o,n,a,r){return(0,s.uX)(),(0,s.CE)("div",I,[(0,s.Lk)("div",F,[(0,s.Lk)("div",H,[(0,s.Lk)("div",K,[(0,s.Lk)("img",{class:"desktop-poster-image",src:n.coverSrc,alt:"Podcast Poster",onClick:t[0]||(t[0]=t=>e.$emit("cover-clicked"))},null,8,V),(0,s.Lk)("div",{class:"overlay",onClick:t[1]||(t[1]=t=>e.$emit("cover-clicked"))},t[7]||(t[7]=[(0,s.Lk)("svg",{class:"detail-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[(0,s.Lk)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})],-1)]))])]),(0,s.Lk)("div",j,[(0,s.Lk)("div",{class:"desktop-player-title",ref:"titleRef"},(0,i.v_)(n.podcastTitle),513),(0,s.Lk)("div",{class:"desktop-player-subtitle",ref:"subtitleRef"},(0,i.v_)(n.podcastSubtitle),513)])]),(0,s.Lk)("div",N,[(0,s.Lk)("div",$,[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.playPrevious&&n.playPrevious(...e)),class:"control-button"},t[8]||(t[8]=[(0,s.Lk)("svg",{class:"icon previous-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[(0,s.Lk)("path",{d:"M10 4l-6 6 6 6v-4h8v-4h-8V4z"})],-1)])),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.togglePlayPause&&n.togglePlayPause(...e)),class:"control-button play-pause-button"},[n.isPlaying?((0,s.uX)(),(0,s.CE)("svg",Q,t[10]||(t[10]=[(0,s.Lk)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},null,-1)]))):((0,s.uX)(),(0,s.CE)("svg",q,t[9]||(t[9]=[(0,s.Lk)("path",{d:"M8 5v14l11-7z"},null,-1)])))]),(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.playNext&&n.playNext(...e)),class:"control-button"},t[11]||(t[11]=[(0,s.Lk)("svg",{class:"icon next-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[(0,s.Lk)("path",{d:"M9 18l6-6-6-6v12zm6-12l6 6-6 6V6z"})],-1)]))]),(0,s.Lk)("div",Y,[(0,s.Lk)("div",U,(0,i.v_)(n.formatTime(n.currentTime)),1),(0,s.Lk)("div",{class:"desktop-progress-container",ref:"progressContainer",onMousedown:t[5]||(t[5]=(...e)=>n.onProgressBarMouseDown&&n.onProgressBarMouseDown(...e)),onTouchstart:t[6]||(t[6]=(...e)=>n.onProgressBarTouchStart&&n.onProgressBarTouchStart(...e))},[(0,s.Lk)("div",{class:"desktop-progress-played",style:(0,i.Tr)({width:n.progressBarWidth})},null,4),(0,s.Lk)("div",{class:"desktop-progress-handle",style:(0,i.Tr)({left:n.progressBarWidth})},null,4)],544),(0,s.Lk)("div",G,(0,i.v_)(n.formatTime(n.duration)),1)])])])}var J={name:"DesktopPlayer",setup(){const e=z.state,t=(0,s.EW)((()=>e.isPlaying)),o=(0,s.EW)((()=>e.currentPodcastTitle)),n=(0,s.EW)((()=>e.currentPodcastSubtitle)),i=(0,s.EW)((()=>e.currentPodcastCover)),a=(0,s.EW)((()=>e.duration)),r=(0,s.EW)((()=>e.currentTime));(0,s.wB)((()=>e.currentAudioSrc),(e=>{if(z.initAudio(e),e){const e=z.getAudio();e&&(e.play(),z.setIsPlaying(!0))}})),(0,s.wB)(t,(e=>{const t=z.getAudio();t&&(e?t.play():t.pause())}));const l=(0,T.KR)(null),c=(0,T.KR)(null),u=(0,T.KR)(!1),d=(0,T.KR)(!1);function v(){if(!l.value)return;const e=l.value.parentElement;e&&(u.value=l.value.scrollWidth>e.clientWidth)}function p(){if(!c.value)return;const e=c.value.parentElement;e&&(d.value=c.value.scrollWidth>e.clientWidth)}function h(){z.setIsPlaying(!e.isPlaying)}function g(){}function m(){}(0,s.sV)((async()=>{if(e.currentAudioSrc){z.initAudio(e.currentAudioSrc);const t=z.getAudio();t&&t.play()}await(0,s.dY)(),v(),p()})),(0,s.hi)((()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",C),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",E)}));const k=(0,s.EW)((()=>a.value?r.value/a.value*100+"%":"0%")),f=(0,T.KR)(null);let w=!1;function y(e){w=!0,M(e),document.addEventListener("mousemove",b),document.addEventListener("mouseup",C)}function b(e){w&&M(e)}function C(){w=!1,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",C)}function L(e){w=!0,M(e.touches[0]),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",E)}function P(e){w&&(M(e.touches[0]),e.preventDefault())}function E(){w=!1,document.removeEventListener("touchmove",P),document.removeEventListener("touchend",E)}function M(e){if(!f.value)return;const t=f.value.getBoundingClientRect(),o=e.clientX-t.left;let n=o/t.width;n=Math.max(0,Math.min(n,1)),z.setCurrentTime(n*a.value)}function S(e){const t=Math.floor(e),o=Math.floor(t/60),n=t%60;return`${String(o).padStart(2,"0")}:${String(n).padStart(2,"0")}`}return{state:e,isPlaying:t,duration:a,currentTime:r,podcastTitle:o,podcastSubtitle:n,coverSrc:i,titleRef:l,subtitleRef:c,isTitleOverflow:u,isSubtitleOverflow:d,checkTitleOverflow:v,checkSubtitleOverflow:p,togglePlayPause:h,playPrevious:g,playNext:m,progressContainer:f,progressBarWidth:k,onProgressBarMouseDown:y,onProgressBarTouchStart:L,formatTime:S}}};const ee=(0,m.A)(J,[["render",Z],["__scopeId","data-v-550f7de4"]]);var te=ee;const oe={class:"desktop-back-container"},ne={class:"desktop-detail"},se=["src"],ie={class:"desktop-detail-title"},ae={class:"desktop-detail-description"};function re(e,t,o,n,a,r){return(0,s.uX)(),(0,s.CE)("div",oe,[(0,s.Lk)("div",ne,[(0,s.Lk)("img",{class:"desktop-detail-image",src:o.podcast.img_url,alt:"Podcast Poster"},null,8,se),(0,s.Lk)("h3",ie,[(0,s.eW)((0,i.v_)(o.podcast.title)+" ",1),((0,s.uX)(),(0,s.CE)("svg",{class:"download-icon",onClick:t[0]||(t[0]=(...e)=>r.handleDownloadClick&&r.handleDownloadClick(...e)),width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t[1]||(t[1]=[(0,s.Lk)("path",{fill:"currentColor",d:"M12 16l-6-6h4V4h4v6h4l-6 6zm-6 2h12v2H6v-2z"},null,-1)])))]),(0,s.Lk)("div",ae,(0,i.v_)(o.podcast.description),1)])])}o(4603),o(7566),o(8721);var le={name:"DesktopDetail",props:{podcast:{type:Object,required:!0}},methods:{handleDownloadClick(){console.log("Download icon clicked!");const e=`https://downloadfile-a6lubplbza-uc.a.run.app?filename=${this.podcast.filename}`;fetch(e).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.blob()})).then((e=>{const t=document.createElement("a");t.href=window.URL.createObjectURL(e),t.setAttribute("download",`${this.podcast.title}.mp3`),document.body.appendChild(t),t.click(),document.body.removeChild(t)})).catch((e=>console.error("Download failed:",e)))}}};const ce=(0,m.A)(le,[["render",re],["__scopeId","data-v-71cc646d"]]);var ue=ce,de={components:{HeaderContent:f,MobilePlayer:O,DesktopPlayer:te,DesktopDetail:ue},data(){return{isMobileMenuOpen:!1,isMobile:window.innerWidth<=649,currentPodcast:{},showDesktopDetail:!1}},mounted(){z.setPodcastCover("https://storage.googleapis.com/news-fetcher-platform.firebasestorage.app/podcasts_image/df_image.png?GoogleAccessId=firebase-adminsdk-i0di3%40news-fetcher-platform.iam.gserviceaccount.com&Expires=16447017600&Signature=g3ny1EQ2mliNum08Zk8sP7WL3sE2k9uQFbq9CbJePyqnYIAbexJcZPRG6BPfga7beRk0naYdWKKnZM1RDzGcJEq7xmkxVTNx09pNoD6kN3PYiawt3DvYANWnDCC5HqRad%2B%2BPbwEX5YjTlr9iBGIkk9TJ39%2F6c2VypXaztZDMMdoGZoeC4792Sqc6Bwd%2F7zyi%2FztUUj3%2BHGjroXd1w3c%2BkCEaVMzFN7IXpMMBYClTEv5lYXNLc6NL%2BUNFrFQWUQxrKS3mC1nhsOjwAQbwNCoa7K%2BnvScwdP20iFbVp0Q7hvstB1n9FctEvow0EwuStyn2UPTa8nfMCsKWvV5wAlfRzQ%3D%3D"),z.setPodcastTitle("-"),z.setPodcastSubtitle("-"),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{handleRouteClicked(e){console.log(`Route clicked: ${e}`),this.isMobileMenuOpen&&this.toggleMobileMenu()},toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen},playPodcast(e){z.state.isPlaying&&z.state.currentPodcastTitle===e.title?z.setIsPlaying(!1):(z.setAudioSrc(`https://downloadfile-a6lubplbza-uc.a.run.app?filename=${e.filename}`),z.setPodcastCover(e.img_url),z.setPodcastTitle(e.title),z.setPodcastSubtitle(e.tags.join(", ")),z.setIsPlaying(!0),this.currentPodcast=e,0!==Object.keys(this.currentPodcast).length&&(this.showDesktopDetail=!0))},onCoverClick(){0!==Object.keys(this.currentPodcast).length&&(this.showDesktopDetail=!this.showDesktopDetail)},handleResize(){this.isMobile=window.innerWidth<=649}}};const ve=(0,m.A)(de,[["render",u],["__scopeId","data-v-299cbd4c"]]);var pe=ve,he=o(1387);const ge={class:"scroll-view-container",ref:"scrollViewContainer"},me={class:"multi-column-layout"},ke={class:"content-container"},fe={key:0,class:"loading-icon"},we=["onClick"],ye={class:"image-container"},be=["src","alt","onLoad"],Ce={class:"duration-overlay"},Le={key:1,class:"overlay"},Pe={key:2,class:"overlay"},Ee={class:"content-card-text-container"},Me={class:"content-card-text"},Te={class:"tags-container"},Se={class:"content-card-date"},_e={key:1,class:"bottom-loading-icon"};function xe(e,t,o,n,a,r){return(0,s.uX)(),(0,s.CE)("div",ge,[(0,s.Lk)("div",{class:"scroll-view",onScroll:t[0]||(t[0]=(...e)=>r.handleScroll&&r.handleScroll(...e))},[(0,s.Lk)("div",me,[(0,s.Lk)("div",ke,[a.loading?((0,s.uX)(),(0,s.CE)("div",fe," Loading... ")):(0,s.Q3)("",!0),(0,s.Lk)("div",{class:(0,i.C4)(["masonry",e.currentLayout])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.podcasts,((o,n)=>((0,s.uX)(),(0,s.CE)("div",{key:n,class:"masonry-item",onClick:t=>e.$emit("play-request",o)},[(0,s.Lk)("div",ye,[o.img_url&&""!==o.img_url.trim()?((0,s.uX)(),(0,s.CE)("img",{key:0,src:o.img_url,alt:"Placeholder Image "+n,class:(0,i.C4)(["responsive-image",{"fade-in":a.imageLoadedMap[n]}]),onLoad:e=>r.onImageLoad(n)},null,42,be)):(0,s.Q3)("",!0),(0,s.Lk)("div",Ce,(0,i.v_)(r.formatDuration(o.total_duration)),1),a.audioManager.state.isPlaying&&o.title===a.audioManager.state.currentPodcastTitle?((0,s.uX)(),(0,s.CE)("div",Le,t[1]||(t[1]=[(0,s.Lk)("svg",{class:"play-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},[(0,s.Lk)("circle",{cx:"32",cy:"32",r:"32",fill:"rgba(0, 0, 0, 0.5)"}),(0,s.Lk)("rect",{x:"22",y:"20",width:"8",height:"24",fill:"#fff"}),(0,s.Lk)("rect",{x:"34",y:"20",width:"8",height:"24",fill:"#fff"})],-1)]))):((0,s.uX)(),(0,s.CE)("div",Pe,t[2]||(t[2]=[(0,s.Lk)("svg",{class:"play-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},[(0,s.Lk)("circle",{cx:"32",cy:"32",r:"32",fill:"rgba(0, 0, 0, 0.5)"}),(0,s.Lk)("polygon",{points:"26,20 26,44 46,32",fill:"#fff"})],-1)])))]),(0,s.Lk)("div",Ee,[(0,s.Lk)("div",null,[(0,s.Lk)("p",Me,(0,i.v_)(o.title||"未命名文章"),1),(0,s.Lk)("div",Te,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.tags,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e,class:"content-card-tag"},(0,i.v_)("#"+e),1)))),128))])]),(0,s.Lk)("span",Se,[t[3]||(t[3]=(0,s.Lk)("svg",{class:"content-card-date-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"12",height:"12"},[(0,s.Lk)("path",{fill:"currentColor",d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-7-9h5v5h-5V10z"})],-1)),(0,s.eW)(" "+(0,i.v_)(o.date||"未知日期"),1)])])],8,we)))),128))],2),a.loadingMore?((0,s.uX)(),(0,s.CE)("div",_e,"Loading...")):(0,s.Q3)("",!0)])])],32)],512)}o(1454);var De={name:"HomePage",data(){return{podcasts:[],loading:!0,loadingMore:!1,page:1,pageSize:14,noMoreData:!1,audioManager:z,imageLoadedMap:{}}},mounted(){this.fetchPodcasts()},methods:{async fetchPodcasts(){if(!this.loadingMore&&!this.noMoreData){1===this.page?(this.loading=!0,this.loadingMore=!1):this.loadingMore=!0;try{const e=await fetch(`https://getbloglist-a6lubplbza-uc.a.run.app?page=${this.page}&pageSize=${this.pageSize}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json(),o=t.map((e=>({title:e.title,img_url:e.img_url,description:e.description,filename:e.filename,date:e.date,tags:e.tags,total_duration:e.total_duration,displayName:e.title.replace(/\.mp3$/i,"")}))),n=this.getColumnCount(),s=this.podcasts.concat(o);this.podcasts=this.reorderForColumns(s,n),t.length<this.pageSize?this.noMoreData=!0:this.page+=1}catch(e){console.error("Failed to fetch podcast list:",e)}finally{this.loading=!1,this.loadingMore=!1}}},handleScroll(e){const t=e.target;t.scrollTop+t.clientHeight>=t.scrollHeight-10&&this.fetchPodcasts()},formatDuration(e){const t=Math.floor(e/60),o=e%60;return`${String(t).padStart(2,"0")}:${String(o).padStart(2,"0")}`},onImageLoad(e){this.imageLoadedMap[e]=!0},getColumnCount(){const e=this.$el.querySelector(".masonry");if(!e)return 1;const t=window.getComputedStyle(e),o=parseInt(t.columnCount,10);return isNaN(o)?1:o},reorderForColumns(e,t){if(t<=1)return e;const o=[],n=Math.ceil(e.length/t);for(let s=0;s<t;s++)for(let i=0;i<n;i++){const n=i*t+s;n<e.length&&o.push(e[n])}return o}}};const Be=(0,m.A)(De,[["render",xe],["__scopeId","data-v-13f93930"]]);var We=Be;const Ae={class:"create-podcast-page"},ze={key:0},Re={key:1,class:"actions-container"},Xe={class:"status-icon"},Oe={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-check"},Ie={class:"action-details"},Fe={class:"action-username"},He={class:"action-created-at"};function Ke(e,t,o,n,a,r){const l=(0,s.g2)("l-ring-2");return(0,s.uX)(),(0,s.CE)("div",Ae,[t[3]||(t[3]=(0,s.Lk)("h2",{class:"create-podcast-page-title"},"Some Podcasts is Generating...",-1)),a.loading?((0,s.uX)(),(0,s.CE)("div",ze,"Loading...")):((0,s.uX)(),(0,s.CE)("div",Re,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.actions,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"action-item"},[(0,s.Lk)("span",Xe,["in_progress"===e.status||"queued"===e.status?((0,s.uX)(),(0,s.Wv)(l,{key:0,size:"20",stroke:"5","stroke-length":"0.25","bg-opacity":"0.1",speed:"0.8",color:"var(--color-deep-level-1-rose-taupe)"})):((0,s.uX)(),(0,s.CE)("svg",Oe,t[0]||(t[0]=[(0,s.Lk)("path",{d:"M20 6 9 17l-5-5"},null,-1)])))]),(0,s.Lk)("span",Ie,[e.name.includes("triggered event")?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("span",Fe,(0,i.v_)(r.getNameBeforeTriggeredEvent(e.name)),1),t[1]||(t[1]=(0,s.eW)(" triggered event "))],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)((0,i.v_)(e.name),1)],64))]),(0,s.Lk)("span",He,(0,i.v_)(r.formatDate(e.created_at)),1)])))),128)),t[2]||(t[2]=(0,s.eW)(" ...... (only shows 10 actions) "))]))])}var Ve=o(5234);Ve.A.register();var je={name:"CreatePodcastPage",data(){return{actions:[],loading:!0}},mounted(){this.fetchActions()},methods:{async fetchActions(){this.loading=!0;try{const e=await fetch("https://getactiondetail-a6lubplbza-uc.a.run.app");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);this.actions=await e.json()}catch(e){console.error("Failed to fetch actions:",e)}finally{this.loading=!1}},getNameBeforeTriggeredEvent(e){const t="triggered event",o=e.indexOf(t);return-1!==o?e.substring(0,o).trim():e},formatDate(e){const t={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(e).toLocaleDateString(void 0,t)}}};const Ne=(0,m.A)(je,[["render",Ke],["__scopeId","data-v-201aeba3"]]);var $e=Ne;const qe=[{path:"/",component:We},{path:"/create-podcast",component:$e}],Qe=(0,he.aE)({history:(0,he.Bt)(),routes:qe});var Ye=Qe,Ue=o(1571),Ge=o(7409);const Ze=(0,n.Ef)(pe);Ze.use(Ye),Ze.use(Ue.A),Ze.directive("element-queries",{mounted(e,t){const o=t.value;new Ge.ResizeSensor(e,(()=>{o(e.offsetWidth,e.offsetHeight)}))}}),Ze.mount("#app")}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,n,s,i){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],s=e[u][1],i=e[u][2];for(var r=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[l])}))?n.splice(l--,1):(r=!1,i<a&&(a=i));if(r){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,s,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,i,a=n[0],r=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(l)var u=l(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=self["webpackChunknews_fetcher_platform_v2"]=self["webpackChunknews_fetcher_platform_v2"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(1139)}));n=o.O(n)})();
//# sourceMappingURL=app.a65baa8e.js.map